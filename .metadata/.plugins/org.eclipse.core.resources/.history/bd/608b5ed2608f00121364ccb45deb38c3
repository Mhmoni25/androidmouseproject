package itt.t00154755.mouseserver;

import java.awt.AWTException;
import java.awt.Robot;

public class CursorRobot {

	public void sendToRobot(String acceloData) {
		covertStringToInt(acceloData);
	}
	
	private void covertStringToInt(String acceloData) {

		String delims = "[ ]+";
		String[] tokens = acceloData.split(delims);
		int[] results = new int[tokens.length];

		for (int i = 0; i < tokens.length; i++) {
		    try {
		        results[i] = Integer.parseInt(tokens[i]);
		    } catch (NumberFormatException nfe) {};
		}
		
	}

	public CursorRobot() {
		// empty constructor
	    }

	    /**
	     * this method is call on the Class object in order to start the running.
	     * 
	     * e.g. robot.execute()
	     */
	    public void execute() {
		new Thread(new MouseMoveThread()).start();
	    }

	    /*
	     * this thread will allow the data passed from the accelerometer to control
	     * the on screen cursor via the Robot object
	     */
	    private class MouseMoveThread extends Thread {
		//
		Robot robot;


		@Override
		public void run() {

		    int x = (int) xo;
		    int y = (int) yo;
		    while (true)
			try {
			    robot = new Robot();
			    robot.mouseMove(x, y);
			    System.out.println("\nmouse started at: " + x + " : " + y);

			} catch (AWTException eAWT) {
			    eAWT.printStackTrace();
			} catch (Exception e) {
			    e.printStackTrace();
			}

		}// end of loop
	    }// end of thread

}
